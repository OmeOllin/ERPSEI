@page "{handler?}"
@using Microsoft.AspNetCore.Localization;
@using Microsoft.AspNetCore.Mvc.Localization;
@using ERPSEI.Areas.Catalogos.Pages;
@using ERPSEI.Data.Managers;
@using ERPSEI.Data.Entities.Empleados;
@model NotificadorModel
@inject IViewLocalizer Localizer;
@inject IRWCatalogoManager<Area> AreasManager;
@inject IRWCatalogoManager<Subarea> SubareasManager;
@{
    ViewData["Title"] = Localizer["Title"];

    // Retrieves the requested culture
    IRequestCultureFeature? rqf = Request.HttpContext.Features.Get<IRequestCultureFeature>();

    // Culture contains the information of the requested culture
    System.Globalization.CultureInfo? culture = rqf != null ? rqf.RequestCulture.Culture : new System.Globalization.CultureInfo("es-MX");

    string cultureName = culture.Name;

    List<Area> areas = await AreasManager.GetAllAsync();
    List<Subarea> subareas = await SubareasManager.GetAllAsync();
}
<h3 class="title mb-3">@ViewData["Title"]</h3>

<!-- --------------------------- -->
<!-- Sección Encabezado -------- -->
<div class="row">
    <div class="col-5 p-5 m-5 alert alert-primary d-flex align-items-center text-center" role="alert">
        <div>
            <button class="btn btn-lg btn-primary" data-bs-toggle="modal" data-bs-target="#dlgCrearElemento">
                <i class="bi bi-newspaper me-2" style="font-size: 40px"></i> Nuevo Comunicado
            </button>
        </div>
    </div>
    <div class="col-5 p-5 m-5 alert alert-primary d-flex align-items-center text-center" role="alert">
        <div>
            <i class="bi bi-shield-check me-2" style="font-size: 40px"></i>
            <button class="btn btn-lg btn-primary" data-bs-toggle="modal" data-bs-target="#dlgCrearElemento">
                Nueva Política
            </button>
        </div>
    </div>
</div>
<!-- --------------------------- -->
<!-- --------------------------- -->

<!-- --------------------------- -->
<!-- Sección Tabs -------------- -->
<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="pills-comunicados-tab" data-bs-toggle="pill" data-bs-target="#pills-comunicados" type="button" role="tab" aria-controls="pills-comunicados" aria-selected="true">Comunicados</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-politicas-tab" data-bs-toggle="pill" data-bs-target="#pills-politicas" type="button" role="tab" aria-controls="pills-politicas" aria-selected="false">Políticas</button>
    </li>
</ul>
<div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-comunicados" role="tabpanel" aria-labelledby="pills-comunicados-tab">
        <table id="tableComunicados" class="table-sm"
               data-unique-id="id"
               data-search="true"
               data-show-fullscreen="true"
               data-show-columns="true"
               data-show-columns-toggle-all="true"
               data-click-to-select="true"
               data-minimum-count-columns="2"
               data-show-pagination-switch="true"
               data-pagination="true"
               data-id-field="id"
               data-page-list="[10, 25, 50, 100, all]"
               data-show-footer="false"
               data-side-pagination="client"
               data-response-handler="responseHandler"
               data-buttons-class="primary">
            <thead>
                <tr align="center" valign="middle" class="bg-primary bg-opacity-10">
                </tr>
            </thead>
        </table>
    </div>
    <div class="tab-pane fade" id="pills-politicas" role="tabpanel" aria-labelledby="pills-politicas-tab">
        <table id="tablePoliticas" class="table-sm"
               data-unique-id="id"
               data-search="true"
               data-show-fullscreen="true"
               data-show-columns="true"
               data-show-columns-toggle-all="true"
               data-click-to-select="true"
               data-minimum-count-columns="2"
               data-show-pagination-switch="true"
               data-pagination="true"
               data-id-field="id"
               data-page-list="[10, 25, 50, 100, all]"
               data-show-footer="false"
               data-side-pagination="client"
               data-response-handler="responseHandler"
               data-buttons-class="primary">
            <thead>
                <tr align="center" valign="middle" class="bg-primary bg-opacity-10">
                </tr>
            </thead>
        </table>
    </div>
</div>
<!-- --------------------------- -->
<!-- --------------------------- -->

<!-- --------------------------- -->
<!-- Sección Nuevo Elemento ---- -->
<div id="dlgCrearElemento" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="dlgExcelTitle" class="modal-title">@Localizer["CreateElementDialogTitle"]</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body align-items-center">
                
            </div>
            <div class="modal-footer">
                <button id="dlgExcelBtnCancelar" type="button" class="btn btn-secondary" onclick="onCerrarImportarClick();" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg"></i> @Localizer["CancelButtonTitle"]
                </button>
                <button id="dlgExcelBtnImportar" type="button" class="btn btn-primary" onclick="onImportarClick();">
                    <i class="bi bi-upload"></i> @Localizer["SaveButtonText"]
                </button>
            </div>
        </div>
    </div>
</div>
<!-- --------------------------- -->
<!-- --------------------------- -->


@section Scripts
{
    <link rel="stylesheet" href="~/lib/bootstrap-table/bootstrap-table.min.css">

    <script src="~/lib/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="~/lib/bootstrap-table/locale/bootstrap-table-es-MX.min.js"></script>
    <script src="~/lib/bootstrap-table/locale/bootstrap-table-en-US.min.js"></script>

    <script src="~/../Areas/Catalogos/Pages/Notificador.cshtml.js"></script>

    <script type="text/javascript">
        var cultureName = "@cultureName";
    </script>
}
